import{I as S,J as g,b as y,L as M,M as O,N as R,O as k,P as v,Q as b,R as m,D as h,k as T}from"./index-Bqv7kcjH.js";function C(e){return R()?(k(e),!0):!1}const w=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const D=e=>e!=null,W=()=>{};function _(e){return v()}function A(e){return Array.isArray(e)?e:[e]}function B(...e){if(e.length!==1)return S(...e);const t=e[0];return typeof t=="function"?g(M(()=>({get:t,set:W}))):y(t)}function L(e,t){_()&&O(e,t)}const U=w?window:void 0,E=w?window.document:void 0;function G(e){var t;const r=m(e);return(t=r==null?void 0:r.$el)!=null?t:r}function I(){const e=y(!1),t=v();return t&&T(()=>{e.value=!0},t),e}function N(e){const t=I();return h(()=>(t.value,!!e()))}function $(e,t,r={}){const{window:s=U,...c}=r;let n;const l=N(()=>s&&"MutationObserver"in s),a=()=>{n&&(n.disconnect(),n=void 0)},i=h(()=>{const u=m(e),p=A(u).map(G).filter(D);return new Set(p)}),d=b(()=>i.value,u=>{a(),l.value&&u.size&&(n=new MutationObserver(t),u.forEach(p=>n.observe(p,c)))},{immediate:!0,flush:"post"}),f=()=>n==null?void 0:n.takeRecords(),o=()=>{d(),a()};return C(o),{isSupported:l,stop:o,takeRecords:f}}function x(e=null,t={}){var r,s,c;const{document:n=E,restoreOnUnmount:l=o=>o}=t,a=(r=n==null?void 0:n.title)!=null?r:"",i=B((s=e??(n==null?void 0:n.title))!=null?s:null),d=!!(e&&typeof e=="function");function f(o){if(!("titleTemplate"in t))return o;const u=t.titleTemplate||"%s";return typeof u=="function"?u(o):m(u).replace(/%s/g,o)}return b(i,(o,u)=>{o!==u&&n&&(n.title=f(o??""))},{immediate:!0}),t.observe&&!t.titleTemplate&&n&&!d&&$((c=n.head)==null?void 0:c.querySelector("title"),()=>{n&&n.title!==i.value&&(i.value=f(n.title))},{childList:!0}),L(()=>{if(l){const o=l(a,i.value||"");o!=null&&n&&(n.title=o)}}),i}export{x as u};
