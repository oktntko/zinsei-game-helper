function p(T,{triggerAt:m="end",minQuietPeriodMs:t,maxBurstDurationMs:i,minGapMs:r,reducer:g=h}){let e,n,d,u,a=()=>{let f=d;f!==void 0&&(d=void 0,T(f),r!==void 0&&(n=setTimeout(c,r)))},c=()=>{clearTimeout(n),n=void 0,e===void 0&&a()},o=()=>{clearTimeout(e),e=void 0,u=void 0,n===void 0&&a()};return{call:(...f)=>{let l=e===void 0&&n===void 0;if((m!=="start"||l)&&(d=g(d,...f)),!(e===void 0&&!l)){if(t!==void 0||i!==void 0||r===void 0){clearTimeout(e);let s=Date.now();u??=s;let M=i===void 0?t??0:Math.min(t??i,i-(s-u));e=setTimeout(o,M)}m!=="end"&&l&&a()}},cancel:()=>{clearTimeout(e),e=void 0,u=void 0,clearTimeout(n),n=void 0,d=void 0},flush:()=>{o(),c()},get isIdle(){return e===void 0&&n===void 0}}}var h=()=>"";export{p as T};
